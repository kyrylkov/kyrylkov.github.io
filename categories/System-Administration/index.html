
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hexo">
    <title>Category: System Administration - Hexo</title>
    <meta name="author" content="John Doe">
    
    
    
    <meta property="og:type" content="blog">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/categories/System-Administration/index.html">
<meta property="og:site_name" content="Hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-vw63imbxdmppuwtd7ajquolsd0r1jsvp8qcdg9cnq8ncgvt1jeslm0h03cep.min.css">
    <!--STYLES END-->
    
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="2">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="/ ">Hexo</a>
    </h1>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="2">
    
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/ "
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                    <span class="sidebar-button-desc">Home</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-categories"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                    <span class="sidebar-button-desc">Categories</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-tags"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                    <span class="sidebar-button-desc">Tags</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-archives"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                    <span class="sidebar-button-desc">Archives</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link st-search-show-outputs"
                         href="#search"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                    <span class="sidebar-button-desc">Search</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="#about"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                    <span class="sidebar-button-desc">About</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/atom.xml"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
                    <span class="sidebar-button-desc">RSS</span>
                </a>
        </li>
        
    </ul>
    
</nav>

            
            <div id="main" data-behavior="2"
                 class="
                        hasCoverMetaIn
                        ">
                
    

<section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2014/10/25/basic-wordpress-multisite-network-config-nginx-php-fpm/">
                            Basic WordPress Multisite Network config for nginx with php-fpm
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2014-10-25T12:41:58+03:00">
	
		    Oct 25, 2014
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/System-Administration/">System Administration</a>


    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>A starter working config combined from nginx and WordPress sites to provide initial configuration starting point</p>
<pre>
user  www www;
worker_processes  1;

events {
  #worker_connections  1024;
}

error_log  /var/log/nginx-error.log;

http {
  include       mime.types;
  default_type  application/octet-stream;

  server_names_hash_bucket_size  64;

  sendfile        on;
  #tcp_nopush     on;

  keepalive_timeout  65;

  gzip  on;
  gzip_types       text/plain application/xml text/css text/js text/xml application/x-javascript text/javascript application/json application/xml+rss;

  upstream php {
      server 127.0.0.1:9000;
  }

  map $http_host $blogid {
    default       -999;

    #Ref: http://wordpress.org/extend/plugins/nginx-helper/
    #include /var/www/wordpress/wp-content/plugins/nginx-helper/map.conf ;

  }

  server {
    server_name example.net *.example.net ;

    access_log  /var/log/wordpress.log;

    root /home/www/wordpress;
    index index.php;

    location = /favicon.ico {
      log_not_found off;
      access_log off;
    }

    location = /robots.txt {
      allow all;
      log_not_found off;
      access_log off;
    }

    location / {
      try_files $uri $uri/ /index.php?$args ;
    }

    location ~ \.php$ {
      try_files $uri =404;
      include fastcgi_params;
      fastcgi_pass php;
      fastcgi_param SCRIPT_FILENAME /home/www/wordpress$fastcgi_script_name;
    }

    #WPMU Files
    location ~ ^/files/(.*)$ {
      try_files /wp-content/blogs.dir/$blogid/$uri /wp-includes/ms-files.php?file=$1 ;
      access_log off; log_not_found off;      expires max;
    }

    #WPMU x-sendfile to avoid php readfile()
    location ^~ /blogs.dir {
      internal;
      alias /home/www/wordpress/wp-content/blogs.dir;
      access_log off; log_not_found off;      expires max;
    }

    #XML Sitemaps - Yoast WordPress SEO
    rewrite ^/sitemap_index\.xml$ /index.php?sitemap=1 last;
    rewrite ^/([^/]+?)-sitemap([0-9]+)?\.xml$ /index.php?sitemap=$1&sitemap_n=$2 last;

    #add some rules for static content expiry-headers here
    location ~* \.(js|css|png|jpg|jpeg|gif|ico)$ {
      expires max;
      log_not_found off;
    }
  }
}
</pre>
                    
                        
                    
                    
                        <p>
                            <a href="/2014/10/25/basic-wordpress-multisite-network-config-nginx-php-fpm/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2014/03/28/building-rackspace-cloud-monitoring-agent-on-freebsd-10/">
                            Building Rackspace Cloud Monitoring Agent on FreeBSD 10
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2014-03-28T00:10:54+02:00">
	
		    Mar 28, 2014
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/System-Administration/">System Administration</a>


    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <pre>pkg install git
pkg install gcc46
git clone https://github.com/racker/virgo
cd virgo
git submodule update --init --recursive
./configure
setenv CC gcc46
setenv CXX g++46
setenv CPP cpp46
gmake -C out
gmake install
cp base/pkg/freebsd/rackspace-monitoring-agent.init /etc/rc.d/rackspace-monitoring-agent
chmod 755 /etc/rc.d/rackspace-monitoring-agent</pre>
                    
                        
                    
                    
                        <p>
                            <a href="/2014/03/28/building-rackspace-cloud-monitoring-agent-on-freebsd-10/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2013/08/20/magento-with-apache-httpd-2-4-and-php-fpm/">
                            Magento with apache httpd 2.4 and php-fpm
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2013-08-20T13:50:59+03:00">
	
		    Aug 20, 2013
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/System-Administration/">System Administration</a>


    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>After struggling for several hours our being  unable to access admin section of our Magento installation when using  apache httpd 2.4 configured with php-fpm, we finally found the problem.</p>
<p>Coming from <a href="http://wiki.apache.org/httpd/PHP-FPM" target="_blank" rel="external">here</a>, we used incorrect <strong>ProxyPassMatch</strong>, specifically:</p>
<p><code>ProxyPassMatch ^/(.*\.php)$ fcgi://127.0.0.1:9000/var/www/$1</code></p>
<p>instead of</p>
<p><code>ProxyPassMatch ^/(.*\.php(/.*)?)$ fcgi://127.0.0.1:9000/var/www/$1</code></p>
<p>Using the 2nd option solved all problems with Magento admin section access.</p>

                    
                        
                    
                    
                        <p>
                            <a href="/2013/08/20/magento-with-apache-httpd-2-4-and-php-fpm/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2013/02/21/quickbooks-error-code-20888-41171-creating-viewing-invoices/">
                            QuickBooks Error Code 20888 41171 creating / viewing invoices
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2013-02-21T08:29:09+02:00">
	
		    Feb 21, 2013
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/System-Administration/">System Administration</a>


    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>After switching to QuickBooks 2013 / 13 we started having various problems including crashes with error code 20888 41171 preventing us from creating new or viewing old sales orders or invoices.</p>
<p>It looks like many people experience the same problem, so here is what worked for us: <a href="http://support.quickbooks.intuit.com/support/Articles/HOW12420" target="_blank" rel="external">http://support.quickbooks.intuit.com/support/Articles/HOW12420</a></p>
<p>After running reboot.bat on our accountant’s Windows XP workstation and rebooting crashes with error code 20888 41171 were gone.  Hopefully forever.</p>

                    
                        
                    
                    
                        <p>
                            <a href="/2013/02/21/quickbooks-error-code-20888-41171-creating-viewing-invoices/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2012/11/22/freebsd-vs-linux-size-matters/">
                            FreeBSD vs Linux - size matters
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2012-11-22T17:23:49+02:00">
	
		    Nov 22, 2012
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/System-Administration/">System Administration</a>


    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>As we recently migrated most of our servers from CentOS to FreeBSD, here is a difference between minimum system requirements of Ubuntu Server CLI Installation and FreeBSD 9:</p>
<p><table></table></p>
<p><tbody></tbody></p>
<p><tr></tr></p>
<p><th></th></p>
<p><th><a href="http://www.freebsd.org/doc/handbook/bsdinstall-hardware.html" target="_blank" rel="external">FreeBSD 9</a></th></p>
<p><th><a href="https://help.ubuntu.com/community/Installation/SystemRequirements" target="_blank" rel="external">Ubuntu Server (CLI) Installation</a></th><br></p>
<p><tr></tr></p>
<p><th>Processor</th></p>
<p><td>a 486 or better processor</td></p>
<p><td>300 MHz x86 processor</td><br></p>
<p><tr></tr></p>
<p><th>System memory (RAM)</th></p>
<p><td>64 MB</td></p>
<p><td>128 MB</td><br></p>
<p><tr></tr></p>
<p><th>Disk space</th></p>
<p><td>1.1 GB</td></p>
<p><td>1 GB</td><br><br><br><br>The major difference though between FreeBSD and Linux distros comes from the concept of FreeBSD “base system” which is <a href="http://www.over-yonder.net/~fullermd/rants/bsd4linux/03" target="_blank" rel="external">clearly described by Matt Fuller</a>.</p>

                    
                        
                    
                    
                        <p>
                            <a href="/2012/11/22/freebsd-vs-linux-size-matters/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2012/02/29/showing-taxonomy-description-in-taxonomy-term-view-in-drupal-7/">
                            Showing taxonomy description in Taxonomy term view in Drupal 7
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2012-02-29T20:32:07+02:00">
	
		    Feb 29, 2012
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/System-Administration/">System Administration</a>


    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>Now that took some time to solve.  When viewing taxonomy term in Drupal 7, by default both term description and all matching nodes are shown.  However as soon as you enable   “Taxonomy term” view (in views 7.x-3.3 in my case), the description is gone. Getting it back is not very straightforward, but fortunately doable without any custom PHP code.</p>
<p>The answer was found <a href="http://drupal.org/node/1043234#comment-4881492" target="_blank" rel="external">here</a> although it’s even simpler than <a href="http://drupal.org/user/1078450" target="_blank" rel="external">rt_davies</a> posted:</p>
<ol>
<li>Create a new view:</li>
</ol>
<ul>
<li><strong>Name</strong>: <em>Taxonomy description</em> (or whatever you like)</li>
<li><strong>Description</strong>: <em>A view to display taxonomy description in taxonomy term view</em> (if you want)</li>
<li><strong>Show</strong>: <em>Taxonomy terms</em></li>
<li>Click <strong>Continue &amp; Edit</strong></li>
<li><strong>Fields &gt; Add</strong>: <em>Taxonomy term: Term description</em> (feel free to remove <em>Taxonomy term: Name</em>, if you like)</li>
<li><strong>Advanced &gt; Contextual filters &gt; Add</strong>: _Taxonomy term: Term ID_2.  Edit the existing <em>Taxonomy term</em> view:</li>
</ul>

                    
                        
                    
                    
                        <p>
                            <a href="/2012/02/29/showing-taxonomy-description-in-taxonomy-term-view-in-drupal-7/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2012/02/26/phusion-passenger-with-apache-on-rhel-6-centos-6-sl-6-with-selinux/">
                            Phusion Passenger with Apache on RHEL 6 / CentOS 6 / SL 6 with SELinux
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2012-02-26T15:01:48+02:00">
	
		    Feb 26, 2012
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/System-Administration/">System Administration</a>


    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>A brief guide:</p>
<ol>
<li><p>Install ruby and passenger dependencies</p>
<pre>yum -y install ruby zlib-devel curl-devel openssl-devel httpd-devel apr-devel apr-util-devel mysql-devel</pre>
</li>
<li><p>Install gem</p>
<pre>wget http://production.cf.rubygems.org/rubygems/rubygems-1.8.17.tgz
tar zxvf rubygems-1.8.17.tgz
cd rubygems-1.8.17
ruby setup.rb</pre>
</li>
<li><p>Install and build a Passenger for Apache</p>
<pre>gem install passenger
passenger-install-apache2-module</pre>
</li>
<li><p>Create <code>passenger.conf</code> file in <code>/etc/httpd/conf.d</code></p>
<pre>LoadModule passenger_module /usr/lib/ruby/gems/1.8/gems/passenger-3.0.11/ext/apache2/mod_passenger.so
PassengerRoot /usr/lib/ruby/gems/1.8/gems/passenger-3.0.11
PassengerRuby /usr/bin/ruby</pre>
</li>
<li><p>Create <code>conf</code> file for your Rails application</p>
</li>
<li><p>Temporarily go into SELinux permissive mode</p>
<pre>setenforce 0</pre>
</li>
<li><p>Restart Apache</p>
<pre>/sbin/service httpd restart</pre>
</li>
<li><p>Start using your Rails application</p>
</li>
<li><p>Walk through SELinux log and generate new SELinux policy module</p>
<pre>grep httpd /var/log/audit/audit.log | audit2allow -M passenger</pre>
</li>
<li><p>Install newly created SELinux module</p>
<pre>semodule -i passenger.pp</pre>
</li>
<li><p>Switch SELinux back into enforcing mode</p>
<pre>setenforce 1</pre></li>
</ol>

                    
                        
                    
                    
                        <p>
                            <a href="/2012/02/26/phusion-passenger-with-apache-on-rhel-6-centos-6-sl-6-with-selinux/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2010/05/21/payment-problems-in-magento-paypal-standard-with-ipn-after-upgrade-from-1-3-x-to-1-4-0-1/">
                            Payment problems in Magento Paypal Standard with IPN after upgrade from 1.3.x to 1.4.0.1
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2010-05-21T20:04:43+03:00">
	
		    May 21, 2010
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/System-Administration/">System Administration</a>


    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>Those who, after a seemingly successful upgrade from Magento 1.3.x to Magento 1.4.0.1, have problems with Magento acknowledging PayPal payments (changing order status from <em>Pending Payment</em> to <em>Processing</em>) and sending out New Order emails to their clients should do/check the following things:</p>
<ol>
<li><p><strong>In PayPal</strong>: Go to <em>My Account -&gt; Profiles -&gt; More Options -&gt; Instant Payment Notification Preferences -&gt; Edit Settings</em> and change instant payment notification (IPN) URL in PayPal IPN settings from:</p>
<pre>http://www.yoursite.com/paypal/standard/ipn/</pre>
to:
<pre>http://www.yoursite.com/paypal/ipn/standard/</pre>
</li>
<li><p><strong>In Magento admin panel</strong>: Go to <em>Systems -&gt; Configuration -&gt; Payment Methods -&gt; PayPal Website Payments Standard</em> and check that <em>Payment Action</em> is set to _Sale _and <em>New Order</em> status to <em>Processing</em></p>
</li>
<li><p><strong>In Magento code</strong>: In file <em>Ipn.php</em> located in <em>app/code/core/Mage/Paypal/Model/Ipn.php</em> find function:</p>
<p>public function getIpnFormData($key = null)<code>&lt;/pre&gt;
comment out line:
&lt;pre&gt;</code>//return isset($this-&gt;_ipnFormData[$key]) ? $this-&gt;_ipnFormData[$key] : null;<code>&lt;/pre&gt;
and add the following line immediately after it:
&lt;pre&gt;</code>return isset($this-&gt;_ipnFormData[$key]) ? urldecode($this-&gt;_ipnFormData[$key]) : null;<br>This should do it.  Your order status should be changing from <em>Pending Payment</em> to <em>Processing</em> and emails should work also.</p>
</li>
</ol>

                    
                        
                    
                    
                        <p>
                            <a href="/2010/05/21/payment-problems-in-magento-paypal-standard-with-ipn-after-upgrade-from-1-3-x-to-1-4-0-1/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2008/03/23/d1-83-d1-81-d1-82-d0-b0-d0-bd-d0-be-d0-b2-d0-ba-d0-b0-1-d1-81-d0-bf-d1-80-d0-b5-d0-b4-d0-bf-d1-80-d0-b8-d1-8f-d1-82-d0-b8-d1-8f-8-1-d0-bd-d0-b0-red-hat-enterprise-linux-5-rhel-5-centos-5/">
                            Установка 1С:Предприятия 8.1 на Red Hat Enterprise Linux 5 (RHEL 5, CentOS 5)
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2008-03-23T13:11:00+02:00">
	
		    Mar 23, 2008
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/System-Administration/">System Administration</a>


    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>Для установки сервера 1С:Предприятия 8.1 (без Web Services) и PostgresSQL 8.2 понадобятся следующие пакеты:</p>
<ul>
<li>1C_Enterprise-server</li>
<li>1C_Enterprise-server-nls</li>
<li>1C_Enterprise-common</li>
<li>1C_Enterprise-common-nls</li>
<li>postgresql</li>
<li>postgresql-server</li>
<li>postgresql-contrib</li>
<li>postgresql-libs<br>Пошаговые инструкции:</li>
</ul>
<ol>
<li><p>Устанавливаем сервер 1С:Предприятия 8.1<pre>rpm -ivh 1C_Enterprise-common-8.1.11-67.i386.rpm 1C_Enterprise-common-nls-8.1.11-67.i386.rpm 1C_Enterprise-server-8.1.11-67.i386.rpm 1C_Enterprise-server-nls-8.1.11-67.i386.rpm</pre></p>
</li>
<li><p>Устанавливаем PostgresSQL 8.2<pre>rpm -ivh postgresql-8.2.4-6.1C.i386.rpm postgresql-contrib-8.2.4-6.1C.i386.rpm postgresql-server-8.2.4-6.1C.i386.rpm postgresql-libs-8.2.4-6.1C.i386.rpm</pre></p>
</li>
<li><p>Инициализируем кластер PostgresSQL с локалью _ru<em>RU.utf8</em> для русского языка или _uk<em>UA.utf8</em>для украинского:<pre>su - postgres -c ‘initdb –locale=uk_UA.utf8 -D /var/lib/pgsql/data/‘</pre></p>
</li>
<li><p>Отключаем пароли на подключение к PostgresSQL, заменяя в файле <code>/var/lib/pgsql/data/pg_hba.conf</code> строку</p>
<pre>host   all     all    0.0.0.0/0    md5</pre>
на
<pre>host   all     all    0.0.0.0/0    trust</pre>
</li>
<li><p>Запускаем PostgresSQL<pre>/sbin/service postgresql start</pre></p>
</li>
<li><p>Подключаемся к PostgresSQL<pre>psql -h localhost postgres postgres</pre></p>
<p>меняем пароль пользователя <code>postgres</code></p>
<pre>ALTER USER postgres PASSWORD 'new_password';</pre>

<p>и выходим <code>\q</code></p>
</li>
<li><p>Включаем пароли на подключение к PostgresSQL, заменяя в файле <code>/var/lib/pgsql/data/pg_hba.conf</code>строку</p>
<pre>host   all     all    0.0.0.0/0    trust</pre>
на
<pre>host   all     all    0.0.0.0/0    md5</pre>
</li>
<li><p>Перезапускаем PostgresSQL<pre>/sbin/service postgresql restart</pre></p>
</li>
</ol>
<p>Если у Вас установлен Apache и возникают проблемы с библиотеками при замене родного системного PostgresSQL 8.1 на 8.2 - читаем <a href="http://www.westnet.com/~gsmith/content/postgresql/pgrpm.htm" target="_blank" rel="external">Installing the PostgreSQL 8.2 RPMs on RHEL 5/CentOS 5</a></p>
<p>Вкратце, при апгрейде <code>postgresql-libs</code> с версии 8.1 до версии 8.2, библиотека <code>libpq.so.4</code> заменяется на <code>libpq.so.5</code>. Однако <code>libpq.so.4</code> необходима для системного httpd Apache и после апгрейда <code>postgresql-libs</code> с версии 8.1 до версии 8.2, httpd Apache станет не работоспособным.</p>
<p>Для решения проблемы достаточно установить <code>compat-postgresql-libs</code> (<code>compat-postgresql-libs-4-1PGDG.rhel5.i686.rpm</code>) с опцией замены файлов</p>
<pre>rpm -iv --replacefiles compat-postgresql-libs-4-1PGDG.rhel5.i686.rpm</pre>

<p><code>compat-postgresql-libs</code> также содержит <code>libpq.so.4</code> и после его установки апгрейд <code>postgresql-libs</code> с версии 8.1 до версии 8.2 становится возможным, так как с удалением <code>postgresql-libs</code> версии 8.1, <code>libpq.so.4</code> поставляется пакетом <code>compat-postgresql-libs</code>.</p>
<p>Скачать <code>compat-postgresql-libs</code> можно здесь: <a href="http://www.postgresql.org/ftp/binary/v8.2.7/linux/rpms/redhat/rhel-5-i386/" target="_blank" rel="external">http://www.postgresql.org/ftp/binary/v8.2.7/linux/rpms/redhat/rhel-5-i386/</a></p>

                    
                        
                    
                    
                        <p>
                            <a href="/2008/03/23/d1-83-d1-81-d1-82-d0-b0-d0-bd-d0-be-d0-b2-d0-ba-d0-b0-1-d1-81-d0-bf-d1-80-d0-b5-d0-b4-d0-bf-d1-80-d0-b8-d1-8f-d1-82-d0-b8-d1-8f-8-1-d0-bd-d0-b0-red-hat-enterprise-linux-5-rhel-5-centos-5/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2007/07/03/selinux-and-samba/">
                            SELinux and Samba
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2007-07-03T13:39:00+03:00">
	
		    Jul 03, 2007
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/System-Administration/">System Administration</a>


    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>Those who installed Samba on RHEL or any other SELinux enabled distribution may have faced the problem when they actually cannot access any Samba shares from their Windows machines.  Samba logs in <em>/var/samba/log</em> may show lots of such messages:<pre>[2007/07/03 16:37:44, 0] smbd/service.c:make_connection_snum(911)<br>  ‘/opt/blah’ does not exist or permission denied when connecting to [blah]<br>  Error was Permission denied</pre>This is probably an SELinux problem and to fix it you’ll need to execute:<pre>chcon -t system_u:object_r:samba_share_t /opt</pre>or, in  order to survive relabel: </p>
<ul>
<li>add these lines to _/etc/selinux/targeted/contexts/files/file<em>contexts.local</em> file (if you are using <em>targeted</em> policy):<pre>/opt(/.*)?  system_u:object_r:samba_share_t:s0</pre></li>
<li><em>probably</em>, reboot</li>
<li>execute:<pre>restorecon -R /opt/</pre>This will set appropriate SELinux context on all files in <em>/opt</em> directory and SELinux won’t prevent Samba access anymore.</li>
</ul>
<p>To allow Samba to share your home directories with SELinux execute the following:<pre>setsebool -P samba_enable_home_dirs 1</pre></p>

                    
                        
                    
                    
                        <p>
                            <a href="/2007/07/03/selinux-and-samba/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
        <li class="pagination-next">
            <a class="btn btn--default btn--small" href="/categories/System-Administration/page/2/">
                    <span>OLDER POSTS</span>
                <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
        </li>
        
        <li class="pagination-number">page 1 of 5</li>
    </ul>
</div>

</section>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2016 John Doe. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <h4 id="about-card-name">John Doe</h4>
        
            <h5 id="about-card-bio"><p>author.bio</p>
</h5>
        
        
            <h5 id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </h5>
        
        
    </div>
</div>

        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
    </body>
    <!--SCRIPTS-->
<script src="/assets/js/script-iq7yhbqlxnc8wvt28qyacokvggqtlqhahb6sgzocgxgbvwe7shblzmiebp1j.min.js"></script>
<!--SCRIPTS END-->



</html>
